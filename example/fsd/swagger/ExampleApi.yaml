swagger: '2.0'
info:
  title: Example service for widgets.
  description: |-
    Additional service remarks.

    ## Heading

    Use a primary heading to indicate the member name.
  version: 0.0.0
  x-identifier: ExampleApi
  x-codegen: 'DO NOT EDIT: generated by fsdgenfsd'
host: local.example.com
basePath: /v1
schemes:
- http
paths:
  /widgets:
    get:
      summary: Gets widgets.
      description: Additional method remarks.
      operationId: getWidgets
      produces:
      - application/json
      parameters:
      - in: query
        name: q
        description: The query.
        type: string
        x-identifier: query
      - in: query
        name: limit
        description: The limit of returned results.
        type: integer
        format: int32
      - in: query
        name: sort
        description: The sort field.
        type: string
        enum:
        - id
        - name
        - weight
      - in: query
        name: desc
        description: True to sort descending.
        type: boolean
      - in: query
        name: maxWeight
        description: The maximum weight.
        type: number
        format: double
        x-obsolete: true
      - in: query
        name: minPrice
        description: The minimum price.
        type: number
        format: decimal
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/GetWidgetsResponse'
        '202':
          description: The pending job.
          schema:
            $ref: '#/definitions/WidgetJob'
          x-identifier: job
    post:
      summary: Creates a new widget.
      operationId: createWidget
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: request
        description: The widget to create.
        required: true
        schema:
          $ref: '#/definitions/Widget'
      responses:
        '201':
          description: The created widget.
          schema:
            $ref: '#/definitions/Widget'
          x-identifier: widget
  /widgets/{id}:
    get:
      summary: Gets the specified widget.
      operationId: getWidget
      produces:
      - application/json
      parameters:
      - in: path
        name: id
        description: The widget ID.
        required: true
        type: string
      - in: header
        name: If-None-Match
        type: string
        x-identifier: ifNoneMatch
      responses:
        '200':
          description: The requested widget.
          schema:
            $ref: '#/definitions/Widget'
          x-identifier: widget
        '304':
          description: ''
          x-identifier: notModified
    delete:
      summary: Deletes the specified widget.
      operationId: deleteWidget
      parameters:
      - in: path
        name: id
        description: The widget ID.
        required: true
        type: string
      responses:
        '204':
          description: ''
  /widgets/{id}/edit:
    post:
      summary: Edits widget.
      operationId: editWidget
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: path
        name: id
        description: The widget ID.
        required: true
        type: string
      - in: query
        name: fields
        description: The fields to return.
        type: string
      - in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/EditWidgetRequest'
      responses:
        '200':
          description: The edited widget.
          schema:
            $ref: '#/definitions/Widget'
          x-identifier: widget
        '202':
          description: The pending job.
          schema:
            $ref: '#/definitions/WidgetJob'
          x-identifier: job
  /widgets/get:
    post:
      summary: Gets the specified widgets.
      operationId: getWidgetBatch
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: request
        description: The IDs of the widgets to return.
        required: true
        schema:
          type: array
          items:
            type: string
      responses:
        '200':
          description: The widget results.
          schema:
            type: array
            items:
              $ref: '#/definitions/WidgetResult'
          x-identifier: results
  /widgets/{id}/weight:
    get:
      summary: Gets the widget weight.
      operationId: getWidgetWeight
      produces:
      - application/json
      parameters:
      - in: path
        name: id
        description: The widget ID.
        required: true
        type: string
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/GetWidgetWeightResponse'
      deprecated: true
  /prefs/{key}:
    get:
      summary: Gets a widget preference.
      operationId: getPreference
      produces:
      - application/json
      parameters:
      - in: path
        name: key
        description: The preference key.
        required: true
        type: string
      responses:
        '200':
          description: The preference value.
          schema:
            $ref: '#/definitions/Preference'
          x-identifier: value
    put:
      summary: Sets a widget preference.
      operationId: setPreference
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: path
        name: key
        description: The preference key.
        required: true
        type: string
      - in: body
        name: request
        description: The preference value.
        required: true
        schema:
          $ref: '#/definitions/Preference'
      responses:
        '200':
          description: The preference value.
          schema:
            $ref: '#/definitions/Preference'
          x-identifier: value
  /:
    get:
      summary: Gets service info.
      operationId: getInfo
      produces:
      - application/json
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/GetInfoResponse'
  /notRestful:
    post:
      summary: Demonstrates the default HTTP behavior.
      operationId: notRestful
      responses:
        '200':
          description: ''
  /kitchen:
    post:
      operationId: kitchen
      consumes:
      - application/json
      parameters:
      - in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/KitchenRequest'
      responses:
        '200':
          description: ''
definitions:
  GetWidgetsResponse:
    type: object
    properties:
      widgets:
        description: The widgets.
        type: array
        items:
          $ref: '#/definitions/Widget'
      total:
        description: The total number of widgets.
        type: integer
        format: int64
      totalWeight:
        description: The total weight.
        type: number
        format: double
        x-obsolete: true
  WidgetJob:
    description: A widget job.
    type: object
    properties:
      id:
        description: A unique identifier for the widget job.
        type: string
  Widget:
    description: A widget.
    type: object
    properties:
      id:
        description: A unique identifier for the widget.
        type: string
      name:
        description: The name of the widget.
        type: string
      weight:
        description: The weight of the widget.
        type: number
        format: double
        x-obsolete: true
      price:
        description: The price of the widget.
        type: number
        format: decimal
    x-remarks: |-
      Additional DTO remarks.

      ## Heading

      Only top-level headings need to match a member name.
  EditWidgetRequest:
    type: object
    properties:
      ops:
        description: The operations.
        type: array
        items:
          type: object
      weight:
        description: The new weight.
        type: number
        format: double
        x-obsolete: true
  WidgetResult:
    description: A result value or error.
    type: object
    properties:
      value:
        $ref: '#/definitions/Widget'
      error:
        $ref: '#/definitions/Error'
  GetWidgetWeightResponse:
    type: object
    properties:
      value:
        description: The widget weight.
        type: number
        format: double
  Preference:
    description: A preference.
    type: object
    properties:
      boolean:
        type: boolean
      booleans:
        type: array
        items:
          type: boolean
      double:
        type: number
        format: double
      doubles:
        type: array
        items:
          type: number
          format: double
      integer:
        type: integer
        format: int32
      integers:
        type: array
        items:
          type: integer
          format: int32
      string:
        type: string
      strings:
        type: array
        items:
          type: string
      bytes:
        type: string
        format: byte
      byteses:
        type: array
        items:
          type: string
          format: byte
      widgetField:
        type: string
        enum:
        - id
        - name
        - weight
      widgetFields:
        type: array
        items:
          type: string
          enum:
          - id
          - name
          - weight
      widget:
        $ref: '#/definitions/Widget'
      widgets:
        type: array
        items:
          $ref: '#/definitions/Widget'
      result:
        $ref: '#/definitions/WidgetResult'
      results:
        type: array
        items:
          $ref: '#/definitions/WidgetResult'
      bigInteger:
        type: integer
        format: int64
      bigIntegers:
        type: array
        items:
          type: integer
          format: int64
      decimal:
        type: number
        format: decimal
      decimals:
        type: array
        items:
          type: number
          format: decimal
      error:
        $ref: '#/definitions/Error'
      errors:
        type: array
        items:
          $ref: '#/definitions/Error'
      object:
        type: object
      objects:
        type: array
        items:
          type: object
      namedStrings:
        type: object
        additionalProperties:
          type: string
      namedWidgets:
        type: object
        additionalProperties:
          $ref: '#/definitions/Widget'
  GetInfoResponse:
    type: object
    properties:
      name:
        description: The name of the service.
        type: string
  KitchenRequest:
    type: object
    properties:
      sink:
        $ref: '#/definitions/KitchenSink'
  Error:
    description: An error.
    type: object
    properties:
      code:
        description: The error code.
        type: string
      message:
        description: The error message.
        type: string
      details:
        description: Advanced error details.
        type: object
      innerError:
        $ref: '#/definitions/Error'
  KitchenSink:
    type: object
    properties:
      matrix:
        type: array
        items:
          type: array
          items:
            type: array
            items:
              type: integer
              format: int32
      crazy:
        type: array
        items:
          $ref: '#/definitions/StringArrayMapArrayResult'
      oldField:
        type: string
        x-obsolete: true
  StringArrayMapArrayResult:
    description: A result value or error.
    type: object
    properties:
      value:
        description: The value.
        type: array
        items:
          type: object
          additionalProperties:
            type: array
            items:
              type: string
      error:
        $ref: '#/definitions/Error'
